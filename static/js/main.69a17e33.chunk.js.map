{"version":3,"sources":["components/style.component.js","components/Layout.js","service/Api.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Searcbar.js","components/Spiner.js","components/Modal.js","components/BtnLoadMore.js","components/App.js","index.js"],"names":["Lay","styled","div","GalleryList","ul","GalleryItem","li","Img","img","SearchFormContainer","SearchForm","form","SearchFormBtn","button","SearchFormInput","input","BtnLoad","SpinerContainer","Overlay","ModalDiv","ImgModal","Layout","children","query","page","axios","get","then","res","data","hits","ImagaGalleryItem","url","largeImgURL","onImgClick","src","alt","onClick","data-img","ImageGallery","map","hit","key","id","webformatURL","largeImageURL","Searchbar","state","inputValue","handleInput","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","type","onChange","placeholder","Component","Spiner","color","height","width","timeout","Modal","onOverlayClick","BtnLoadMore","App","loading","err","fetchImg","ImageApi","prevState","catch","finally","handleSearchbarSubmit","onCloseOverlayClick","currentTarget","onCloseModalEscape","code","onGalleryImageClick","dataset","prevProps","window","addEventListener","removeEventListener","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.69a17e33.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nconst Lay = styled.div`\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\r\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\r\n  color: #212121;\r\n  background-color: #fff;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;\r\nconst GalleryList = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw-10px);\r\n  grid-template-columns: repeat(4, 1fr);\r\n  grid-auto-rows: auto;\r\n  grid-gap: 12px;\r\n  margin-top: 2px;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nconst GalleryItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: fill;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\nconst SearchFormContainer = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\nconst SearchFormBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nconst BtnLoad = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  margin: 10px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\nconst SpinerContainer = styled.div`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\nconst Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nconst ModalDiv = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px); ;\r\n`;\r\nconst ImgModal=styled.img` \r\n  display: block;\r\n  max-width: 100%;\r\n  height: auto;\r\n`;\r\nexport {\r\n  Lay,\r\n  GalleryList,\r\n  GalleryItem,\r\n  Img,\r\n  SearchFormContainer,\r\n  SearchForm,\r\n  SearchFormBtn,\r\n  SearchFormInput,\r\n  BtnLoad,\r\n  Overlay,\r\n  ModalDiv,\r\n  ImgModal,\r\n  SpinerContainer,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Lay } from \"./style.component\";\r\n\r\nconst Layout = ({ children }) => <Lay>{children}</Lay>;\r\n\r\nexport default Layout;\r\n\r\nLayout.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst fetchImgWithQuery = (query, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=18758155-8662c213c0daba3e05069688e&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data.hits);\r\n};\r\n\r\nexport default { fetchImgWithQuery };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { GalleryItem, Img } from \"./style.component\";\r\n\r\nexport default function ImagaGalleryItem({ url, largeImgURL, onImgClick }) {\r\n  return (\r\n    <GalleryItem>\r\n      <Img src={url} alt=\"photo\" onClick={onImgClick} data-img={largeImgURL} />\r\n    </GalleryItem>\r\n  );\r\n}\r\nImagaGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { GalleryList } from \"./style.component\";\r\nimport ImagaGalleryItem from \"./ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ hits, onImgClick }) {\r\n  return (\r\n    <GalleryList>\r\n      {hits.map((hit) => (\r\n        <ImagaGalleryItem\r\n          key={hit.id}\r\n          url={hit.webformatURL}\r\n          largeImgURL={hit.largeImageURL}\r\n          onImgClick={onImgClick}\r\n        />\r\n      ))}\r\n    </GalleryList>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string,\r\n      largeImgURL: PropTypes.string,\r\n    })\r\n  ),\r\n  onImgClick: PropTypes.func,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  SearchFormContainer,\r\n  SearchForm,\r\n  SearchFormBtn,\r\n  SearchFormInput,\r\n} from \"./style.component\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n    inputValue: PropTypes.string,\r\n  };\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <SearchFormContainer>\r\n        <SearchForm onSubmit={this.handleSubmit}>\r\n          <SearchFormBtn type=\"submit\" />\r\n\r\n          <SearchFormInput\r\n            type=\"text\"\r\n            onChange={this.handleInput}\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n          />\r\n        </SearchForm>\r\n      </SearchFormContainer>\r\n    );\r\n  }\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport React from \"react\";\r\nimport { SpinerContainer } from \"./style.component\";\r\n\r\nexport default function Spiner() {\r\n  return (\r\n    <SpinerContainer>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={80}\r\n        width={80}\r\n        timeout={2000}\r\n      />\r\n    </SpinerContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Overlay, ModalDiv, ImgModal } from \"./style.component\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Modal({ onOverlayClick, url }) {\r\n  return (\r\n    <Overlay onClick={onOverlayClick}>\r\n      <ModalDiv>\r\n        <ImgModal src={url} alt={url} />\r\n      </ModalDiv>\r\n    </Overlay>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onOverlayClick: PropTypes.func,\r\n  url: PropTypes.string.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { BtnLoad } from \"./style.component\";\r\n\r\nconst BtnLoadMore = ({onClick}) => {\r\n    return(\r\n<BtnLoad onClick={onClick}>Load more...</BtnLoad>)}\r\nexport default BtnLoadMore;\r\n\r\nBtnLoadMore.propTypes = {\r\n    onClick: PropTypes.func\r\n};\r\n","import React, { Component } from \"react\";\nimport Layout from \"./Layout\";\nimport ImageApi from \"../service/Api\";\nimport PropTypes from \"prop-types\";\nimport ImageGallery from \"./ImageGallery\";\nimport Searchbar from \"./Searcbar\";\nimport Spiner from \"./Spiner\";\nimport Modal from \"./Modal\";\nimport BtnLoadMore from \"./BtnLoadMore\";\n\nexport default class App extends Component {\n  static propTypes = {\n    loading: PropTypes.bool,\n    err: PropTypes.string,\n    query: PropTypes.string,\n    page:PropTypes.number,\n    largeImageURL: PropTypes.string,\n  };\n  state = {\n    hits: [],\n    loading: false,\n    err: null,\n    query: \"bright\",\n    page: 1,\n    largeImageURL: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { query, largeImageURL, page } = this.state;\n    if (prevState.query !== query) {\n      this.fetchImg();\n    }\n    if (largeImageURL) {\n      window.addEventListener(\"keydown\", this.onCloseModalEscape);\n    } else {\n      window.removeEventListener(\"keydown\", this.onCloseModalEscape);\n    }\n    if (prevState.page !== page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight - 170,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchImg = () => {\n    this.setState({ loading: true });\n    ImageApi.fetchImgWithQuery(this.state.query, this.state.page)\n      .then((res) => {\n        this.setState((prevState) => {\n          return {\n            hits: [...prevState.hits, ...res],\n            page: prevState.page + 1,\n          };\n        });\n      })\n      .catch((err) => this.setState({ err }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchbarSubmit = (query) => {\n    this.setState({\n      query,\n      hits: [],\n      page: 1,\n    });\n  };\n\n  onCloseOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.setState({ largeImageURL: null });\n    }\n  };\n  onCloseModalEscape = (e) => {\n    if (e.code === \"Escape\") {\n      this.setState({ largeImageURL: null });\n    }\n  };\n  onGalleryImageClick = (e) => {\n    this.setState({ largeImageURL: e.target.dataset.img });\n  };\n  render() {\n    const { hits, loading, largeImageURL } = this.state;\n    return (\n      <Layout>\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n        {loading ? (\n          <Spiner />\n        ) : (\n          <ImageGallery hits={hits} onImgClick={this.onGalleryImageClick} />\n        )}\n\n        {hits.length > 0 && !loading && <BtnLoadMore onClick={this.fetchImg} />}\n\n        {largeImageURL && (\n          <Modal\n            url={largeImageURL}\n            onOverlayClick={this.onCloseOverlayClick}\n          />\n        )}\n      </Layout>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\n\n\nReactDOM.render(<App/>,document.getElementById(\"root\"));"],"sourceRoot":""}